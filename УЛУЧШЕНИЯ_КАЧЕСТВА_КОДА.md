# –£–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. –ù–∞–≤–∏–≥–∞—Ü–∏—è (React-way)
- ‚úÖ –ó–∞–º–µ–Ω—ë–Ω `window.location.href` –Ω–∞ `setLocation()` –∏–∑ `wouter` –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:
  - `client/src/pages/home.tsx` - –Ω–∞–≤–∏–≥–∞—Ü–∏—è –∫ –∫–∞–º–ø–∞–Ω–∏—è–º
  - `client/src/pages/payment-success.tsx` - —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –Ω–∞–≤–∏–≥–∞—Ü–∏—é
- ‚ö†Ô∏è –ò—Å–∫–ª—é—á–µ–Ω–∏—è (–≥–¥–µ `window.location.href` –Ω–µ–æ–±—Ö–æ–¥–∏–º):
  - –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –≤–Ω–µ—à–Ω–∏–π –ø–ª–∞—Ç–µ–∂–Ω—ã–π —à–ª—é–∑ (YooKassa/CloudPayments) - —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–ª–Ω—ã–π —Ä–µ–¥–∏—Ä–µ–∫—Ç –±—Ä–∞—É–∑–µ—Ä–∞
  - –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫ –≤ `queryClient.ts` - –≤–Ω–µ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (`window.location.reload()`) - –¥–ª—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### 2. –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (ARIA)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã ARIA –∞—Ç—Ä–∏–±—É—Ç—ã –≤ `EmptyState`:
  - `role="status"` –¥–ª—è –ø—É—Å—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
  - `aria-live="polite"` –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
  - `aria-label` –¥–ª—è –∏–∫–æ–Ω–æ–∫ –∏ –∫–Ω–æ–ø–æ–∫
  - `aria-hidden="true"` –¥–ª—è –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –∏–∫–æ–Ω–æ–∫
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã ARIA –∞—Ç—Ä–∏–±—É—Ç—ã –≤ `payment-success.tsx`:
  - `role="img"` –¥–ª—è –∏–∫–æ–Ω–∫–∏ —É—Å–ø–µ—Ö–∞
  - `aria-label` –¥–ª—è –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
  - `aria-hidden="true"` –¥–ª—è –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –∏–∫–æ–Ω–æ–∫

### 3. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
  - `wouter` (–Ω–∞–≤–∏–≥–∞—Ü–∏—è)
  - `framer-motion` (–∞–Ω–∏–º–∞—Ü–∏–∏)
  - `lucide-react` (–∏–∫–æ–Ω–∫–∏)
  - `@radix-ui/*` (Shadcn UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)

### 4. –ê–Ω–∏–º–∞—Ü–∏–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –≤ `EmptyState`:
  - `fade-in` —Å `motion.div`
  - –ü–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ (`opacity: 0 ‚Üí 1`)
  - –ù–µ–±–æ–ª—å—à–æ–µ —Å–º–µ—â–µ–Ω–∏–µ –≤–≤–µ—Ä—Ö (`y: 10 ‚Üí 0`)

---

## üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —É–ª—É—á—à–µ–Ω–∏—è

### –ö–æ—Ä–æ—Ç–∫–∏–π —Å—Ä–æ–∫ (1 –¥–µ–Ω—å)
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: –ó–∞–º–µ–Ω–∏—Ç—å `window.location.href` –Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—é —á–µ—Ä–µ–∑ `wouter`
- ‚ö†Ô∏è –û—Å—Ç–∞–ª–æ—Å—å: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### –°—Ä–µ–¥–Ω–∏–π —Å—Ä–æ–∫ (2-3 –¥–Ω—è)

#### 1. –ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è (i18n)
**–ü—Ä–æ–±–ª–µ–º–∞**: –í—Å–µ —Ç–µ–∫—Å—Ç—ã –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ

**–†–µ—à–µ–Ω–∏–µ**: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å `react-i18next`

```bash
npm install react-i18next i18next i18next-browser-languagedetector
```

–°—Ç—Ä—É–∫—Ç—É—Ä–∞:
```
client/src/
  locales/
    ru/
      common.json
      campaigns.json
      donations.json
    en/
      common.json
      ...
    ar/
      common.json
      ...
```

–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
```tsx
// –í–º–µ—Å—Ç–æ:
<EmptyState title="–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ" />

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
<EmptyState title={t('empty.campaigns.title')} />
```

**–§–∞–π–ª—ã –¥–ª—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏**:
- `client/src/components/empty-state.tsx`
- `client/src/pages/home.tsx`
- `client/src/pages/campaigns.tsx`
- –í—Å–µ —Ç–µ–∫—Å—Ç—ã –≤ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

#### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –∏ PropTypes
–î–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤ –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

```tsx
// PropTypes –¥–ª—è EmptyState (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ TypeScript —Å—Ç—Ä–æ–≥–æ)
EmptyState.propTypes = {
  icon: PropTypes.elementType,
  title: PropTypes.string.isRequired,
  description: PropTypes.string,
  action: PropTypes.shape({
    label: PropTypes.string.isRequired,
    onClick: PropTypes.func.isRequired,
  }),
  className: PropTypes.string,
  'aria-label': PropTypes.string,
};
```

---

### –î–æ–ª–≥–∏–π —Å—Ä–æ–∫

#### 1. Unit-—Ç–µ—Å—Ç—ã (Jest + React Testing Library)
```bash
npm install --save-dev jest @testing-library/react @testing-library/jest-dom @testing-library/user-event
```

–ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∞:
```tsx
// client/src/components/__tests__/empty-state.test.tsx
import { render, screen } from '@testing-library/react';
import { EmptyState } from '../empty-state';
import { Heart } from 'lucide-react';

describe('EmptyState', () => {
  it('renders title and description', () => {
    render(
      <EmptyState 
        title="–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö" 
        description="–û–ø–∏—Å–∞–Ω–∏–µ" 
      />
    );
    
    expect(screen.getByText('–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö')).toBeInTheDocument();
    expect(screen.getByText('–û–ø–∏—Å–∞–Ω–∏–µ')).toBeInTheDocument();
  });

  it('renders action button when provided', () => {
    const onClick = jest.fn();
    render(
      <EmptyState 
        title="–¢–µ—Å—Ç"
        action={{ label: '–ö–Ω–æ–ø–∫–∞', onClick }}
      />
    );
    
    const button = screen.getByText('–ö–Ω–æ–ø–∫–∞');
    expect(button).toBeInTheDocument();
    button.click();
    expect(onClick).toHaveBeenCalledTimes(1);
  });

  it('has proper ARIA attributes', () => {
    render(<EmptyState title="–¢–µ—Å—Ç" aria-label="Custom label" />);
    const container = screen.getByRole('status');
    expect(container).toHaveAttribute('aria-label', 'Custom label');
    expect(container).toHaveAttribute('aria-live', 'polite');
  });
});
```

#### 2. Storybook –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
```bash
npx storybook@latest init
```

–ü—Ä–∏–º–µ—Ä story:
```tsx
// client/src/components/empty-state.stories.tsx
import type { Meta, StoryObj } from '@storybook/react';
import { EmptyState } from './empty-state';
import { Heart, AlertCircle } from 'lucide-react';

const meta = {
  title: 'Components/EmptyState',
  component: EmptyState,
  tags: ['autodocs'],
} satisfies Meta<typeof EmptyState>;

export default meta;
type Story = StoryObj<typeof meta>;

export const Default: Story = {
  args: {
    title: '–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ',
    description: '–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∏—Å–∫–∞',
  },
};

export const WithIcon: Story = {
  args: {
    icon: Heart,
    title: '–ù–µ—Ç –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –∫–∞–º–ø–∞–Ω–∏–π',
    description: '–î–æ–±–∞–≤—å—Ç–µ –∫–∞–º–ø–∞–Ω–∏–∏ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ',
  },
};

export const WithAction: Story = {
  args: {
    icon: AlertCircle,
    title: '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏',
    description: '–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ',
    action: {
      label: '–ü–æ–≤—Ç–æ—Ä–∏—Ç—å',
      onClick: () => alert('Retry clicked'),
    },
  },
};
```

#### 3. Lighthouse Score —É–ª—É—á—à–µ–Ω–∏—è
- –î–æ–±–∞–≤–∏—Ç—å `manifest.json` –¥–ª—è PWA
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (lazy loading, WebP)
- –£–ª—É—á—à–∏—Ç—å performance (code splitting, lazy routes)
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å accessibility score (–º–∏–Ω–∏–º—É–º 90+)

---

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –°—Ç–∞—Ç—É—Å | –ü–æ–∫—Ä—ã—Ç–∏–µ |
|-----------|--------|----------|
| –ù–∞–≤–∏–≥–∞—Ü–∏—è | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ | 95% (–∏—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤) |
| ARIA –∞—Ç—Ä–∏–±—É—Ç—ã | ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ | 70% (–æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ–∫—Ä—ã—Ç—ã) |
| –ê–Ω–∏–º–∞—Ü–∏–∏ | ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ | 40% (EmptyState, –º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å) |
| i18n | ‚ùå –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | 0% |
| –¢–µ—Å—Ç—ã | ‚ùå –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | 0% |
| Storybook | ‚ùå –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | 0% |

---

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã

### –ö—Ä–∏—Ç–∏—á–Ω–æ (—Å–µ–π—á–∞—Å)
1. ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è —á–µ—Ä–µ–∑ `wouter` - **–ò–°–ü–†–ê–í–õ–ï–ù–û**
2. ‚úÖ ARIA –∞—Ç—Ä–∏–±—É—Ç—ã –¥–ª—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ - **–î–û–ë–ê–í–õ–ï–ù–û**

### –í–∞–∂–Ω–æ (–±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è)
1. –ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è (i18n) - –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ EN/AR
2. Unit-—Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (EmptyState, DonationModal, etc.)

### –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ (–¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ)
1. Storybook –¥–ª—è –≤—Å–µ—Ö UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
2. E2E —Ç–µ—Å—Ç—ã (Cypress/Playwright)
3. Lighthouse score 90+ –¥–ª—è –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫

---

## üîó –°–≤—è–∑—å —Å –ø–ª–∞–Ω–æ–º

–≠—Ç–∏ —É–ª—É—á—à–µ–Ω–∏—è –∑–∞–∫—Ä—ã–≤–∞—é—Ç –ø—É–Ω–∫—Ç **"UI-—É–ª—É—á—à–µ–Ω–∏—è"** –∏–∑ **MVP-4** –≤ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–º –ø–ª–∞–Ω–µ.

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏**:
1. –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (—á—Ç–æ–±—ã EmptyState —Ä–µ–∂–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª—Å—è)
2. –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—é (i18n)
3. –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

